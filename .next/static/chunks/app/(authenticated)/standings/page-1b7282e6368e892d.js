(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6493],{63:(e,t,a)=>{"use strict";var r=a(7260);a.o(r,"redirect")&&a.d(t,{redirect:function(){return r.redirect}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},3254:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var r=a(5155),s=a(2115),i=a(6489),n=a(63),d=a(5016);function l(e){let{initialLeagueId:t}=e,{data:a,status:l}=(0,i.useSession)(),o=(0,n.useRouter)(),c=(0,n.useSearchParams)(),[x,h]=(0,s.useState)([]),[u,g]=(0,s.useState)(t||""),[m,p]=(0,s.useState)(!0),[y,f]=(0,s.useState)("");async function b(){try{var e;let t=await fetch("/api/standings");if(!t.ok)throw Error("Failed to fetch standings");let a=await t.json();h(a.leagues||[]);let r=c.get("leagueId");r&&(null==(e=a.leagues)?void 0:e.some(e=>e.leagueId===r))?g(r):a.leagues&&a.leagues.length>0&&g(a.leagues[0].leagueId)}catch(e){f("Failed to load standings")}finally{p(!1)}}if((0,s.useEffect)(()=>{"unauthenticated"===l?o.push("/login"):"authenticated"===l&&b()},[l]),"loading"===l||m)return(0,r.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)("div",{style:{color:"white"},children:"Loading standings..."})});let j=x.find(e=>e.leagueId===u);return(0,r.jsxs)("div",{style:{minHeight:"calc(100vh - 64px)"},children:[(0,r.jsx)("div",{style:{backgroundColor:"white",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:(0,r.jsx)("div",{style:{maxWidth:"80rem",margin:"0 auto",padding:"0 1rem"},children:(0,r.jsx)("div",{style:{padding:"1.5rem 0"},children:(0,r.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#111827",fontFamily:"var(--font-playfair), Georgia, serif"},children:"League Standings"})})})}),(0,r.jsxs)("div",{style:{maxWidth:"80rem",margin:"0 auto",padding:"2rem 1rem"},children:[y&&(0,r.jsx)("div",{style:{marginBottom:"1rem",borderRadius:"0.375rem",backgroundColor:"#fee2e2",padding:"1rem",color:"#991b1b"},children:y}),0===x.length?(0,r.jsx)("div",{style:{backgroundColor:"white",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderRadius:"0",padding:"1.5rem",textAlign:"center"},children:(0,r.jsx)("p",{style:{color:"#9ca3af"},children:"No active leagues with standings available."})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,r.jsx)("label",{htmlFor:"league-select",style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Select League"}),(0,r.jsx)("select",{id:"league-select",value:u,onChange:e=>g(e.target.value),style:{display:"block",width:"100%",maxWidth:"28rem",borderRadius:"0",padding:"0.5rem",backgroundColor:"white",color:"#111827",border:"1px solid #d1d5db"},children:x.map(e=>(0,r.jsxs)("option",{value:e.leagueId,children:[e.leagueName," - ",(0,d.q)(e.gameType)]},e.leagueId))})]}),j&&(0,r.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,r.jsx)("div",{style:{backgroundColor:"#dbeafe",border:"1px solid #93c5fd",borderRadius:"0",padding:"1rem"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)("div",{style:{flexShrink:0},children:(0,r.jsx)("svg",{style:{height:"1.25rem",width:"1.25rem",color:"#3b82f6"},fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,r.jsx)("div",{style:{marginLeft:"0.75rem"},children:(0,r.jsxs)("p",{style:{fontSize:"0.875rem",color:"#1e40af"},children:[(0,r.jsx)("strong",{children:"Ranking Method:"})," ","BY_POINTS"===j.rankingMethod?"By Total Points Scored - Players are ranked by the total number of points they score across all matches":"By Wins - Traditional ranking based on win/loss record"]})})]})}),j.divisions.map(e=>(0,r.jsxs)("div",{style:{backgroundColor:"white",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderRadius:"0",overflow:"hidden",marginTop:"2rem"},children:[(0,r.jsx)("div",{style:{backgroundColor:"#f9fafb",padding:"0.75rem 1.5rem"},children:(0,r.jsx)("h2",{style:{fontSize:"1.125rem",fontWeight:"500",color:"#111827"},children:e.divisionName})}),0===e.standings.length?(0,r.jsx)("div",{style:{padding:"1.5rem",textAlign:"center",color:"#6b7280"},children:"No matches played yet in this division"}):(0,r.jsx)("div",{style:{overflowX:"auto"},children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider ".concat("BY_WINS"===j.rankingMethod?"text-blue-600 font-bold":"text-gray-500"),children:"W-L"}),(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider ".concat("BY_WINS"===j.rankingMethod?"text-blue-600 font-bold":"text-gray-500"),children:"Win %"}),(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Games W-L"}),(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider ".concat("BY_POINTS"===j.rankingMethod?"text-blue-600 font-bold":"text-gray-500"),children:"Total Points"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.standings.map((e,t)=>(0,r.jsxs)("tr",{className:e.playerId===(null==a?void 0:a.user.id)?"bg-blue-50":"",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t+1}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.playerName,e.playerId===(null==a?void 0:a.user.id)&&(0,r.jsx)("span",{className:"ml-2 text-xs text-blue-600",children:"(You)"})]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:e.matches}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center ".concat("BY_WINS"===j.rankingMethod?"text-blue-600":"text-gray-900"),children:[e.wins," - ",e.losses]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center ".concat("BY_WINS"===j.rankingMethod?"text-blue-600":"text-gray-900"),children:e.winPercentage.toFixed(3)}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-900",children:[e.gamesWon," - ",e.gamesLost]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center ".concat("BY_POINTS"===j.rankingMethod?"text-blue-600":"text-gray-900"),children:e.pointsFor})]},e.playerId))})]})})]},e.divisionId))]})]})]})]})}},5016:(e,t,a)=>{"use strict";function r(e){switch(e){case"SINGLES":return"Singles";case"DOUBLES":return"Doubles";case"CUTTHROAT":return"Cut-Throat";default:return e}}a.d(t,{q:()=>r})},9332:(e,t,a)=>{Promise.resolve().then(a.bind(a,3254))}},e=>{e.O(0,[6489,8441,1255,7358],()=>e(e.s=9332)),_N_E=e.O()}]);