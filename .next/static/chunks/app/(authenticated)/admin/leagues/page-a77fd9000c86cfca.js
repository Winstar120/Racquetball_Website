(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4458],{63:(e,r,t)=>{"use strict";var n=t(7260);t.o(n,"redirect")&&t.d(r,{redirect:function(){return n.redirect}}),t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},445:(e,r,t)=>{Promise.resolve().then(t.bind(t,838))},838:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var n=t(5155),o=t(2115),a=t(2619),s=t.n(a),i=t(63),l=t(5016);function d(){(0,i.useRouter)();let[e,r]=(0,o.useState)([]),[t,a]=(0,o.useState)(!0),[d,c]=(0,o.useState)("");(0,o.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=await fetch("/api/admin/leagues");if(!e.ok)throw Error("Failed to fetch leagues");let t=await e.json();r(t.leagues||[])}catch(e){c(e instanceof Error?e.message:"Failed to load leagues")}finally{a(!1)}};return(0,n.jsxs)("div",{style:{minHeight:"calc(100vh - 64px)"},children:[(0,n.jsx)("div",{style:{backgroundColor:"white",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:(0,n.jsxs)("div",{style:{maxWidth:"80rem",margin:"0 auto",padding:"1.5rem 1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{style:{fontSize:"1.75rem",fontWeight:"bold",color:"#111827",fontFamily:"var(--font-playfair), Georgia, serif"},children:"Manage Leagues"}),(0,n.jsx)("p",{style:{marginTop:"0.35rem",color:"#6b7280",fontSize:"0.95rem"},children:"Review active seasons, update schedules, and monitor registrations."})]}),(0,n.jsx)(s(),{href:"/admin/leagues/create",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"0.75rem 1.5rem",fontSize:"0.95rem",fontWeight:600,color:"white",backgroundColor:"#1f2937",border:"1px solid #1f2937",textDecoration:"none",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#111827"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#1f2937"},children:"Create League"})]})}),(0,n.jsxs)("div",{style:{maxWidth:"80rem",margin:"0 auto",padding:"2rem 1rem"},children:[d&&(0,n.jsx)("div",{style:{marginBottom:"1rem",padding:"1rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",color:"#991b1b"},children:d}),t?(0,n.jsx)("div",{style:{backgroundColor:"white",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",padding:"1.75rem"},children:(0,n.jsx)("p",{style:{color:"#6b7280"},children:"Loading leagues..."})}):0===e.length?(0,n.jsxs)("div",{style:{backgroundColor:"white",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",padding:"1.75rem",textAlign:"center"},children:[(0,n.jsx)("p",{style:{color:"#6b7280",marginBottom:"1rem"},children:"No leagues created yet."}),(0,n.jsx)(s(),{href:"/admin/leagues/create",style:{color:"#1f2937",textDecoration:"none",border:"1px solid #d1d5db",padding:"0.65rem 1.25rem",display:"inline-block",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.borderColor="#9ca3af"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="white",e.currentTarget.style.borderColor="#d1d5db"},children:"Create your first league"})]}):(0,n.jsx)("div",{style:{backgroundColor:"white",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",padding:"0"},children:(0,n.jsx)("div",{style:{overflowX:"auto"},children:(0,n.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{style:{backgroundColor:"#f9fafb",textAlign:"left",color:"#6b7280",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:[(0,n.jsx)("th",{style:{padding:"0.75rem 1.5rem"},children:"League"}),(0,n.jsx)("th",{style:{padding:"0.75rem 1.5rem"},children:"Type"}),(0,n.jsx)("th",{style:{padding:"0.75rem 1.5rem"},children:"Status"}),(0,n.jsx)("th",{style:{padding:"0.75rem 1.5rem"},children:"Divisions"}),(0,n.jsx)("th",{style:{padding:"0.75rem 1.5rem"},children:"Players"}),(0,n.jsx)("th",{style:{padding:"0.75rem 1.5rem"},children:"Season"}),(0,n.jsx)("th",{style:{padding:"0.75rem 1.5rem"},children:"Actions"})]})}),(0,n.jsx)("tbody",{children:e.map((e,r)=>{var t;return(0,n.jsxs)("tr",{style:{borderTop:0===r?"none":"1px solid #e5e7eb",backgroundColor:"white"},children:[(0,n.jsxs)("td",{style:{padding:"1rem 1.5rem",verticalAlign:"top"},children:[(0,n.jsx)("div",{style:{fontSize:"0.95rem",fontWeight:600,color:"#111827"},children:e.name}),(0,n.jsxs)("div",{style:{fontSize:"0.8rem",color:"#6b7280",marginTop:"0.25rem"},children:["Reg: ",new Date(e.registrationOpens).toLocaleDateString()," – ",new Date(e.registrationCloses).toLocaleDateString()]})]}),(0,n.jsx)("td",{style:{padding:"1rem 1.5rem",color:"#374151",fontSize:"0.9rem"},children:(0,l.q)(e.gameType)}),(0,n.jsx)("td",{style:{padding:"1rem 1.5rem"},children:(t=e.status,(0,n.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat({UPCOMING:"bg-gray-100 text-gray-800",REGISTRATION_OPEN:"bg-green-100 text-green-800",REGISTRATION_CLOSED:"bg-yellow-100 text-yellow-800",IN_PROGRESS:"bg-blue-100 text-blue-800",COMPLETED:"bg-purple-100 text-purple-800",CANCELLED:"bg-red-100 text-red-800"}[t]||"bg-gray-100 text-gray-800"),children:t.replace("_"," ")}))}),(0,n.jsx)("td",{style:{padding:"1rem 1.5rem",color:"#374151",fontSize:"0.9rem"},children:e.divisions.length?e.divisions.map(e=>e.level).join(", "):"—"}),(0,n.jsx)("td",{style:{padding:"1rem 1.5rem",color:"#374151",fontSize:"0.9rem"},children:e._count.registrations}),(0,n.jsxs)("td",{style:{padding:"1rem 1.5rem",color:"#374151",fontSize:"0.9rem"},children:[new Date(e.startDate).toLocaleDateString()," – ",new Date(e.endDate).toLocaleDateString()]}),(0,n.jsx)("td",{style:{padding:"1rem 1.5rem"},children:(0,n.jsxs)("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",fontSize:"0.9rem"},children:[(0,n.jsx)(s(),{href:"/admin/leagues/".concat(e.id,"/schedule"),style:{color:"#2563eb",textDecoration:"none"},children:"Schedule"}),(0,n.jsx)(s(),{href:"/admin/leagues/".concat(e.id,"/registrations"),style:{color:"#059669",textDecoration:"none"},children:"Registrations"}),(0,n.jsx)(s(),{href:"/admin/leagues/".concat(e.id),style:{color:"#4b5563",textDecoration:"none"},children:"Edit"})]})})]},e.id)})})]})})})]})]})}},5016:(e,r,t)=>{"use strict";function n(e){switch(e){case"SINGLES":return"Singles";case"DOUBLES":return"Doubles";case"CUTTHROAT":return"Cut-Throat";default:return e}}t.d(r,{q:()=>n})}},e=>{e.O(0,[2619,8441,1255,7358],()=>e(e.s=445)),_N_E=e.O()}]);