(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3999],{63:(e,t,r)=>{"use strict";var i=r(7260);r.o(i,"redirect")&&r.d(t,{redirect:function(){return i.redirect}}),r.o(i,"usePathname")&&r.d(t,{usePathname:function(){return i.usePathname}}),r.o(i,"useRouter")&&r.d(t,{useRouter:function(){return i.useRouter}}),r.o(i,"useSearchParams")&&r.d(t,{useSearchParams:function(){return i.useSearchParams}})},634:(e,t,r)=>{Promise.resolve().then(r.bind(r,6383))},6383:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var i=r(5155),n=r(2115),o=r(63),l=r(2619),a=r.n(l);let s={width:"100%",padding:"0.65rem 0.75rem",border:"1px solid #d1d5db",fontSize:"1rem",color:"#111827",outline:"none",backgroundColor:"white"};function d(e){return e?{}:{onFocus:e=>{e.currentTarget.style.borderColor="#111827",e.currentTarget.style.boxShadow="0 0 0 1px #111827"},onBlur:e=>{e.currentTarget.style.borderColor="#d1d5db",e.currentTarget.style.boxShadow="none"}}}function m(){let e=(0,o.useRouter)(),[t,r]=(0,n.useState)(!1),[l,m]=(0,n.useState)(""),[c,g]=(0,n.useState)(!0),[u,h]=(0,n.useState)("SINGLES");async function p(t){t.preventDefault(),r(!0),m("");let i=new FormData(t.currentTarget),n={name:i.get("name"),gameType:i.get("gameType"),rankingMethod:i.get("rankingMethod"),pointsToWin:parseInt(i.get("pointsToWin")),winByTwo:"true"===i.get("winByTwo"),isFree:"true"===i.get("isFree"),leagueFee:"true"===i.get("isFree")?0:parseFloat(i.get("leagueFee")),playersPerMatch:"SINGLES"===i.get("gameType")?2:"CUTTHROAT"===i.get("gameType")?3:4,matchDuration:parseInt(i.get("matchDuration")),weeksForCutthroat:"CUTTHROAT"===i.get("gameType")?parseInt(i.get("weeksForCutthroat")):null,startDate:i.get("startDate"),endDate:i.get("endDate"),registrationOpens:i.get("registrationOpens"),registrationCloses:i.get("registrationCloses"),divisions:i.getAll("divisions")};try{let t=await fetch("/api/admin/leagues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!t.ok){let e=await t.json();m(e.error||"Failed to create league");return}e.push("/admin/leagues")}catch(e){m("An error occurred. Please try again.")}finally{r(!1)}}return(0,i.jsxs)("div",{style:{minHeight:"calc(100vh - 64px)"},children:[(0,i.jsx)("div",{style:{backgroundColor:"white",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:(0,i.jsxs)("div",{style:{maxWidth:"80rem",margin:"0 auto",padding:"1.5rem 1rem"},children:[(0,i.jsx)("nav",{style:{display:"flex"},"aria-label":"Breadcrumb",children:(0,i.jsxs)("ol",{style:{display:"flex",alignItems:"center",gap:"0.5rem",margin:0,padding:0,listStyle:"none"},children:[(0,i.jsxs)("li",{children:[(0,i.jsx)(a(),{href:"/admin",style:{color:"#6b7280",textDecoration:"none",fontSize:"0.875rem"},children:"Admin"}),(0,i.jsx)("span",{style:{margin:"0 0.5rem",color:"#9ca3af"},children:"/"})]}),(0,i.jsxs)("li",{children:[(0,i.jsx)(a(),{href:"/admin/leagues",style:{color:"#6b7280",textDecoration:"none",fontSize:"0.875rem"},children:"Leagues"}),(0,i.jsx)("span",{style:{margin:"0 0.5rem",color:"#9ca3af"},children:"/"})]}),(0,i.jsx)("li",{children:(0,i.jsx)("span",{style:{color:"#111827",fontWeight:500,fontSize:"0.875rem"},children:"Create"})})]})}),(0,i.jsx)("h1",{style:{marginTop:"0.75rem",fontSize:"1.75rem",fontWeight:"bold",color:"#111827",fontFamily:"var(--font-playfair), Georgia, serif"},children:"Create New League"}),(0,i.jsx)("p",{style:{marginTop:"0.25rem",color:"#6b7280",fontSize:"0.975rem"},children:"Configure the season structure, scoring rules, and registration window before inviting players."})]})}),(0,i.jsx)("div",{style:{maxWidth:"70rem",margin:"0 auto",padding:"2rem 1rem"},children:(0,i.jsx)("div",{style:{backgroundColor:"white",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",padding:"2.25rem",maxWidth:"46rem",margin:"0 auto"},children:(0,i.jsxs)("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[l&&(0,i.jsx)("div",{style:{padding:"1rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",color:"#991b1b"},children:l}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{style:{fontSize:"1.2rem",fontWeight:600,color:"#111827",marginBottom:"1rem",textAlign:"center"},children:"Basic Information"}),(0,i.jsxs)("div",{style:{maxWidth:"22rem",margin:"0 auto"},children:[(0,i.jsx)("label",{htmlFor:"name",style:{display:"block",fontSize:"0.95rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:"League Name"}),(0,i.jsx)("input",{type:"text",name:"name",id:"name",required:!0,disabled:t,placeholder:"Winter League 2025",style:s,...d(t)})]})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{style:{fontSize:"1.2rem",fontWeight:600,color:"#111827",marginBottom:"1rem",textAlign:"center"},children:"Game Settings"}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",maxWidth:"40rem",margin:"0 auto"},children:[(0,i.jsxs)("div",{style:{display:"grid",gap:"1.5rem",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"gameType",style:{display:"block",fontSize:"0.95rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:"Game Type"}),(0,i.jsxs)("select",{name:"gameType",id:"gameType",required:!0,disabled:t,value:u,onChange:e=>h(e.target.value),style:s,...d(t),children:[(0,i.jsx)("option",{value:"SINGLES",children:"Singles (1v1)"}),(0,i.jsx)("option",{value:"DOUBLES",children:"Doubles (2v2)"}),(0,i.jsx)("option",{value:"CUTTHROAT",children:"Cut-throat (3 players)"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"rankingMethod",style:{display:"block",fontSize:"0.95rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:"Ranking Method"}),(0,i.jsxs)("select",{name:"rankingMethod",id:"rankingMethod",required:!0,disabled:t,style:s,...d(t),children:[(0,i.jsx)("option",{value:"BY_WINS",children:"By Wins (Traditional)"}),(0,i.jsx)("option",{value:"BY_POINTS",children:"By Total Points Scored"})]}),(0,i.jsx)("p",{style:{marginTop:"0.35rem",fontSize:"0.85rem",color:"#6b7280"},children:"Determines how standings are ordered."})]})]}),(0,i.jsxs)("div",{style:{display:"grid",gap:"1.5rem",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"pointsToWin",style:{display:"block",fontSize:"0.95rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:"Points to Win"}),(0,i.jsx)("input",{type:"number",name:"pointsToWin",id:"pointsToWin",defaultValue:"11",min:"7",max:"21",required:!0,disabled:t,style:s,...d(t)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"winByTwo",style:{display:"block",fontSize:"0.95rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:"Win by Two"}),(0,i.jsxs)("select",{name:"winByTwo",id:"winByTwo",required:!0,disabled:t,style:s,...d(t),children:[(0,i.jsx)("option",{value:"true",children:"Yes"}),(0,i.jsx)("option",{value:"false",children:"No"})]})]})]}),(0,i.jsxs)("div",{style:{display:"grid",gap:"1.5rem",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"matchDuration",style:{display:"block",fontSize:"0.95rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:"Match Duration (minutes)"}),(0,i.jsx)("input",{type:"number",name:"matchDuration",id:"matchDuration",defaultValue:"45",min:"30",max:"120",required:!0,disabled:t,style:s,...d(t)}),(0,i.jsx)("p",{style:{marginTop:"0.35rem",fontSize:"0.85rem",color:"#6b7280"},children:"Includes pre-match warmup time."})]}),"CUTTHROAT"===u&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"weeksForCutthroat",style:{display:"block",fontSize:"0.95rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:"Number of Weeks"}),(0,i.jsx)("input",{type:"number",name:"weeksForCutthroat",id:"weeksForCutthroat",defaultValue:"8",min:"4",max:"20",required:!0,disabled:t,style:s,...d(t)}),(0,i.jsx)("p",{style:{marginTop:"0.35rem",fontSize:"0.85rem",color:"#6b7280"},children:"Recommended 8â€“12 weeks for rotating matchups."})]})]})]})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{style:{fontSize:"1.2rem",fontWeight:600,color:"#111827",marginBottom:"1rem",textAlign:"center"},children:"Registration & Fees"}),(0,i.jsxs)("div",{style:{display:"grid",gap:"1.5rem",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"isFree",style:{display:"block",fontSize:"0.95rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:"Registration Type"}),(0,i.jsxs)("select",{name:"isFree",id:"isFree",disabled:t,value:c?"true":"false",onChange:e=>g("true"===e.target.value),style:s,...d(t),children:[(0,i.jsx)("option",{value:"true",children:"Free League"}),(0,i.jsx)("option",{value:"false",children:"Paid League"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"leagueFee",style:{display:"block",fontSize:"0.95rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:"League Fee (USD)"}),(0,i.jsx)("input",{type:"number",name:"leagueFee",id:"leagueFee",min:"0",step:"0.01",disabled:t||c,defaultValue:"0",style:{...s,backgroundColor:c?"#f9fafb":"white"},...d(t||c)}),(0,i.jsx)("p",{style:{marginTop:"0.35rem",fontSize:"0.85rem",color:"#6b7280"},children:"Disabled when the league is marked as free."})]})]})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{style:{fontSize:"1.2rem",fontWeight:600,color:"#111827",marginBottom:"1rem",textAlign:"center"},children:"Season Timeline"}),(0,i.jsx)("div",{style:{display:"grid",gap:"1.5rem",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:["startDate","endDate","registrationOpens","registrationCloses"].map(e=>(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:e,style:{display:"block",fontSize:"0.95rem",fontWeight:500,color:"#374151",marginBottom:"0.5rem"},children:{startDate:"Season Starts",endDate:"Season Ends",registrationOpens:"Registration Opens",registrationCloses:"Registration Closes"}[e]}),(0,i.jsx)("input",{type:"date",name:e,id:e,required:!0,disabled:t,style:s,...d(t)})]},e))})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{style:{fontSize:"1.2rem",fontWeight:600,color:"#111827",marginBottom:"1rem",textAlign:"center"},children:"Skill Divisions"}),(0,i.jsx)("p",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"0.75rem",textAlign:"center"},children:"Select at least one division. You can choose multiple options."}),(0,i.jsx)("div",{style:{display:"grid",gap:"0.75rem",maxWidth:"28rem",margin:"0 auto"},children:[{value:"A",label:"Division A (Advanced)"},{value:"B",label:"Division B (Intermediate)"},{value:"C",label:"Division C (Beginner)"},{value:"D",label:"Division D (Novice)"}].map(e=>(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"0.95rem",color:"#374151"},children:[(0,i.jsx)("input",{type:"checkbox",name:"divisions",value:e.value,defaultChecked:"C"===e.value,disabled:t,style:{width:"1.1rem",height:"1.1rem"}}),(0,i.jsx)("span",{children:e.label})]},e.value))})]}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem"},children:[(0,i.jsx)(a(),{href:"/admin/leagues",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"0.75rem 1.5rem",fontSize:"0.95rem",fontWeight:500,color:"#1f2937",backgroundColor:"white",border:"1px solid #d1d5db",textDecoration:"none",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.borderColor="#9ca3af"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="white",e.currentTarget.style.borderColor="#d1d5db"},children:"Cancel"}),(0,i.jsx)("button",{type:"submit",disabled:t,style:{padding:"0.75rem 1.75rem",fontSize:"0.95rem",fontWeight:600,color:"white",backgroundColor:t?"#4b5563":"#1f2937",border:"1px solid "+(t?"#4b5563":"#1f2937"),cursor:t?"not-allowed":"pointer",opacity:t?.75:1,transition:"all 0.2s"},onMouseEnter:e=>{t||(e.currentTarget.style.backgroundColor="#111827",e.currentTarget.style.borderColor="#111827")},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=t?"#4b5563":"#1f2937",e.currentTarget.style.borderColor=t?"#4b5563":"#1f2937"},children:t?"Creating...":"Create League"})]})]})})})]})}}},e=>{e.O(0,[2619,8441,1255,7358],()=>e(e.s=634)),_N_E=e.O()}]);