(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4700],{63:(e,r,t)=>{"use strict";var o=t(7260);t.o(o,"redirect")&&t.d(r,{redirect:function(){return o.redirect}}),t.o(o,"usePathname")&&t.d(r,{usePathname:function(){return o.usePathname}}),t.o(o,"useRouter")&&t.d(r,{useRouter:function(){return o.useRouter}}),t.o(o,"useSearchParams")&&t.d(r,{useSearchParams:function(){return o.useSearchParams}})},4905:(e,r,t)=>{Promise.resolve().then(t.bind(t,6092))},6092:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var o=t(5155),n=t(2115),s=t(63),a=t(2619),i=t.n(a);function d(){let e=(0,s.useRouter)(),r=(0,s.useSearchParams)(),[t,a]=(0,n.useState)(""),[d,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[m,g]=(0,n.useState)(!1),[h,f]=(0,n.useState)(""),[p,b]=(0,n.useState)("");async function y(r){if(r.preventDefault(),g(!0),b(""),f(""),d!==c){b("Passwords do not match"),g(!1);return}if(d.length<6){b("Password must be at least 6 characters long"),g(!1);return}try{let r=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,password:d})}),o=await r.json();r.ok?(f("Password reset successfully. Redirecting to login..."),setTimeout(()=>{e.push("/login")},2e3)):b(o.error||"Something went wrong")}catch(e){b("Something went wrong. Please try again.")}finally{g(!1)}}return(0,n.useEffect)(()=>{let e=r.get("token");e?a(e):b("Invalid reset link")},[r]),(0,o.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1f2937 0%, #374151 50%, #1f2937 100%)",padding:"1rem"},children:(0,o.jsxs)("div",{style:{width:"100%",maxWidth:"28rem",backgroundColor:"white",padding:"3rem",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[(0,o.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[(0,o.jsx)(i(),{href:"/",children:(0,o.jsx)("img",{src:"/logo.png",alt:"DRA",style:{height:"100px",width:"auto",margin:"0 auto 1.5rem",display:"block",cursor:"pointer"}})}),(0,o.jsx)("h1",{style:{fontSize:"2rem",fontFamily:"var(--font-playfair), Georgia, serif",color:"#111827",marginBottom:"0.5rem"},children:"Reset Password"}),(0,o.jsx)("p",{style:{color:"#6b7280",fontSize:"1rem"},children:"Enter your new password"})]}),(0,o.jsxs)("form",{onSubmit:y,children:[h&&(0,o.jsx)("div",{style:{marginBottom:"1rem",padding:"0.75rem",backgroundColor:"#f0f9ff",border:"1px solid #bfdbfe",fontSize:"0.875rem",color:"#1e40af"},children:h}),p&&(0,o.jsx)("div",{style:{marginBottom:"1rem",padding:"0.75rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",fontSize:"0.875rem",color:"#991b1b"},children:p}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("label",{htmlFor:"password",style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.25rem"},children:"New Password"}),(0,o.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,disabled:m,value:d,onChange:e=>l(e.target.value),style:{display:"block",width:"100%",padding:"0.75rem",fontSize:"1rem",color:"#111827",backgroundColor:"white",border:"1px solid #d1d5db",outline:"none",transition:"all 0.2s"},onFocus:e=>{e.target.style.borderColor="#111827",e.target.style.boxShadow="0 0 0 1px #111827"},onBlur:e=>{e.target.style.borderColor="#d1d5db",e.target.style.boxShadow="none"}})]}),(0,o.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,o.jsx)("label",{htmlFor:"confirmPassword",style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.25rem"},children:"Confirm New Password"}),(0,o.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,disabled:m,value:c,onChange:e=>u(e.target.value),style:{display:"block",width:"100%",padding:"0.75rem",fontSize:"1rem",color:"#111827",backgroundColor:"white",border:"1px solid #d1d5db",outline:"none",transition:"all 0.2s"},onFocus:e=>{e.target.style.borderColor="#111827",e.target.style.boxShadow="0 0 0 1px #111827"},onBlur:e=>{e.target.style.borderColor="#d1d5db",e.target.style.boxShadow="none"}})]}),(0,o.jsx)("div",{style:{marginTop:"1.5rem"},children:(0,o.jsx)("button",{type:"submit",disabled:m||!t,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",fontWeight:"500",color:"white",backgroundColor:m||!t?"#6b7280":"#1f2937",border:"none",cursor:m||!t?"not-allowed":"pointer",transition:"all 0.2s"},onMouseOver:e=>{!m&&t&&(e.currentTarget.style.backgroundColor="#111827")},onMouseOut:e=>{!m&&t&&(e.currentTarget.style.backgroundColor="#1f2937")},children:m?"Resetting...":"Reset Password"})}),(0,o.jsx)("div",{style:{marginTop:"1.5rem",textAlign:"center",fontSize:"0.875rem"},children:(0,o.jsx)(i(),{href:"/login",style:{color:"#111827",fontWeight:"500",textDecoration:"none"},children:"Back to Sign In"})})]})]})})}function l(){return(0,o.jsx)(n.Suspense,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:(0,o.jsx)(d,{})})}}},e=>{e.O(0,[2619,8441,1255,7358],()=>e(e.s=4905)),_N_E=e.O()}]);